const fs = require('fs');
const path = require('path');
const packageJson = require('./package.json');

const versionFilePath = path.join(__dirname, 'src', 'version.ts');
const versionContent = `
// This file is automatically generated before each build
export const version = {
  version: '${packageJson.version}',
  buildTime: '${Math.floor(new Date().getTime()/1000.0) - 1000000000}'
};
`;

fs.writeFileSync(versionFilePath, versionContent);
console.log('Version file generated:', versionFilePath);
